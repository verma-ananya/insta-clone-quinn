(this["webpackJsonpquinn-feed"]=this["webpackJsonpquinn-feed"]||[]).push([[0],{45:function(e,a,t){e.exports=t(84)},50:function(e,a,t){},51:function(e,a,t){e.exports=t.p+"static/media/logo.5d5d9eef.svg"},52:function(e,a,t){},53:function(e,a,t){},54:function(e,a,t){},60:function(e,a,t){},81:function(e,a,t){},83:function(e,a,t){},84:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(17),s=t.n(c),l=(t(50),t(14)),o=t(4),i=(t(51),t(52),t(9)),m=t(10),d=t(12),u=t(11),p=(t(53),function(e){Object(d.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=a.call.apply(a,[this].concat(r))).state={},e}return Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",{className:"Nav"},r.a.createElement("div",{className:"Nav-menus"},r.a.createElement("div",{className:"Nav-brand"},r.a.createElement("a",{className:"Nav-brand-logo",href:"/"},"Quinn Feed"))))}}]),t}(n.Component)),E=(t(54),function(e){Object(d.a)(t,e);var a=Object(u.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"footer navbar-fixed-bottom"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"home col-6"},r.a.createElement(l.b,{to:"/"},r.a.createElement("i",{className:"material-icons"},"home"))),r.a.createElement("div",{className:"calendar col-6"},r.a.createElement(l.b,{to:"/calendar"},r.a.createElement("i",{className:"material-icons"},"date_range"))))))}}]),t}(n.Component)),v=t(21),g=t(44),f=(t(60),t(61),t(62).default),I=function(e){return f.get(e)},h=t(18),x=t.n(h),N=function(e){return e===[]||e==={}},b=function(e){return null===e},P=function(e,a){return e.slice(0,a)},w=function(e,a){return e.timeInSeconds<a.timeInSeconds?-1:e.timeInSeconds>a.timeInSeconds?1:0},O=t(88),j=(t(81),function(e){Object(d.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(i.a)(this,t),(n=a.call(this,e)).state={},n}return Object(m.a)(t,[{key:"render",value:function(){var e=this.props,a=e.title,t=e.header,n=e.footer,c=e.children,s=e.onClose,o=e.size,i=e.onNext,m=e.onPrevious;return r.a.createElement(O.a,{show:!0,onHide:s,size:o,centered:!0},a&&r.a.createElement(O.a.Header,{closeButton:!0},r.a.createElement(O.a.Title,null,a)),t&&r.a.createElement(O.a.Header,{closeButton:!0},t),r.a.createElement(O.a.Body,{className:"pad-0"},r.a.createElement("div",{className:"container-fluid pad-0"},r.a.createElement("div",{className:"row pad-0 modal-row"},r.a.createElement("div",{className:"pad-0 col-1"},r.a.createElement(l.b,null," ",r.a.createElement("i",{className:"material-icons arrow",onClick:m}," navigate_before ")," ")),r.a.createElement("div",{className:"pad-4 col-10"},c),r.a.createElement("div",{className:"pad-0 col-1"},r.a.createElement(l.b,null," ",r.a.createElement("i",{className:"material-icons arrow",onClick:i}," navigate_next ")," "))))),n&&r.a.createElement(O.a.Footer,null,n))}}]),t}(n.Component));j.defaultProps={title:null,footer:null};var C=j,S=function(e){Object(d.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(i.a)(this,t),(n=a.call(this,e)).fetchPosts=function(){I("https://quinncareapi.azurewebsites.net/api/assignment/posts").then((function(e){var a=e.data;a.forEach((function(e,t){a[t].timeInSeconds=x()(P(e.CreatedOnTimestamp,10),"YYYY-MM-DD").unix(),a[t].imageCount=e.Images.length}));var t=a.sort(w),r=[];t.forEach((function(e,a){e.Images.forEach((function(e){r.push({postIndex:a,imageUrl:e.ImageUrl})}))})),n.setState({posts:t,images:r})})).catch((function(e){alert("API call failed!"),console.log(e)}))},n.nextExpandedImage=function(){var e=n.state,a=e.posts,t=e.currentExpandedPostIndex,r=e.currentExpandedImageIndex,c=a.length,s=r+1===a[t].imageCount;s&&t===c-1?alert("No more posts available!"):n.setState((function(e){return Object(v.a)(Object(v.a)({},e),{},{currentExpandedPostIndex:s?e.currentExpandedPostIndex+1:e.currentExpandedPostIndex,currentExpandedImageIndex:s?0:e.currentExpandedImageIndex+1})}))},n.previousExpandedImage=function(){var e=n.state,a=e.currentExpandedPostIndex,t=0===e.currentExpandedImageIndex;t&&0===a?alert("No more posts available!"):n.setState((function(e){return Object(v.a)(Object(v.a)({},e),{},{currentExpandedPostIndex:t?e.currentExpandedPostIndex-1:e.currentExpandedPostIndex,currentExpandedImageIndex:t?0:e.currentExpandedImageIndex-1})}))},n.renderExpandedImageModal=function(){var e=n.state,a=e.posts,t=e.currentExpandedPostIndex,c=e.currentExpandedImageIndex,s=a[t],l=a[t].Images[c].ImageUrl;return r.a.createElement(C,{header:r.a.createElement("div",{className:"header-user row"},r.a.createElement("div",{className:"Post-user-avatar pad-0"},r.a.createElement("img",{src:s.profilePictureUrl,alt:s.UserId})),r.a.createElement("div",{className:"header col-8"},r.a.createElement("div",{className:"header-username"},r.a.createElement("span",null,s.UserId)),r.a.createElement("div",{className:"Post-date"},r.a.createElement("span",null,P(s.CreatedOnTimestamp,10))))),size:"lg",footer:r.a.createElement("div",{className:"Post-caption"},r.a.createElement("strong",null," ",s.UserId," "),r.a.createElement("span",null," ",s.description," ")),onClose:n.resetAction,onNext:n.nextExpandedImage,onPrevious:n.previousExpandedImage},r.a.createElement("img",{className:"modal-img",src:l}))},n.showExpandedImageModal=function(e){n.setState({isShowingImageModal:!0,currentExpandedPostIndex:e,currentExpandedImageIndex:0})},n.resetAction=function(){n.setState({isShowingImageModal:!1,currentExpandedPostIndex:null,currentExpandedImageIndex:null})},n.onChange=function(e){n.setState({calDate:e})},n.renderDateTileContent=function(e){var a=e.date,t=e.view,c=n.state.posts;if(b(c)||N(c))return null;var s=P(a.toISOString(),10),l=function(e,a){if(b(e)||N(e)||a<0)return-1;for(var t=0,n=e.length-1;t<=n;){var r=parseInt(String((t+n)/2));if(e[r].timeInSeconds<a)t=r+1;else{if(!(e[r].timeInSeconds>a))return r;n=r-1}}return-1}(c,x()(s,"YYYY-MM-DD").unix());if(-1===l&&"month"===t)return r.a.createElement("div",{className:"date-image"},r.a.createElement("img",{src:"https://www.vhv.rs/dpng/d/102-1021069_empty-open-box-png-transparent-png.png"}));var o=c[l];return"month"===t?r.a.createElement("div",{className:"date-image"},r.a.createElement("img",{src:o.Images[0].ImageUrl,alt:o.UserId,key:s,onClick:function(){n.showExpandedImageModal(l)}})):null},n.state={calDate:new Date,isShowingImageModal:!1,currentExpandedPostIndex:null,currentExpandedImageIndex:null,posts:[]},n}return Object(m.a)(t,[{key:"componentDidMount",value:function(){this.fetchPosts()}},{key:"render",value:function(){var e=this.state,a=e.calDate,t=e.isShowingImageModal;return r.a.createElement(r.a.Fragment,null,t&&this.renderExpandedImageModal(),r.a.createElement("div",{className:"result-calendar"},r.a.createElement(g.a,{onChange:this.onChange,value:a,tileContent:this.renderDateTileContent})))}}]),t}(n.PureComponent),M=(t(83),function(e){Object(d.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(i.a)(this,t),(n=a.call(this,e)).nextImage=function(){n.state.currentImageIndex+1===n.props.postImages.length||n.setState((function(e){return{currentImageIndex:e.currentImageIndex+1}}))},n.previousImage=function(){0===n.state.currentImageIndex||n.setState((function(e){return{currentImageIndex:e.currentImageIndex-1}}))},n.state={currentImageIndex:0},n}return Object(m.a)(t,[{key:"render",value:function(){var e,a=this.props,t=a.userImage,n=a.userName,c=a.postDate,s=a.postImages,o=a.caption,i=a.location,m=this.state.currentImageIndex;return r.a.createElement("div",{className:"container fluid"},r.a.createElement("article",{className:"Post",ref:"Post"},r.a.createElement("header",null,r.a.createElement("div",{className:"Post-user row"},r.a.createElement("div",{className:"Post-user-avatar pad-0"},r.a.createElement("img",{src:t,alt:n})),r.a.createElement("div",{className:"header col-3 pad-0"},r.a.createElement("div",{className:"Post-username"},r.a.createElement("span",null,n)),r.a.createElement("div",{className:"Post-location"},r.a.createElement("span",null,i))),r.a.createElement("div",{className:"Post-date"},r.a.createElement("span",null,(e=P(c,10),x()(e).utcOffset("+05:30").format("MMMM Do YYYY")))))),r.a.createElement("div",{className:"Post-image container-fluid pad-0"},r.a.createElement("div",{className:"row pad-0 modal-row"},r.a.createElement("div",{className:"pad-0 col-1"},r.a.createElement(l.b,null," ",r.a.createElement("i",{className:"material-icons arrow",onClick:this.previousImage}," navigate_before ")," ")),r.a.createElement("div",{className:"Post-image-bg pad-4 col-10"},r.a.createElement("img",{alt:n+"'s Post",src:s&&s[m].ImageUrl})),r.a.createElement("div",{className:"pad-0 col-1"},r.a.createElement(l.b,null," ",r.a.createElement("i",{className:"material-icons arrow",onClick:this.nextImage}," navigate_next ")," ")))),r.a.createElement("div",{className:"Post-caption"},r.a.createElement("strong",null," ",n," "),r.a.createElement("span",null," ",o," "))))}}]),t}(n.Component));M.defaultProps={userImage:"",userName:"Username",postDate:"PostDate",postImages:[],caption:"Caption"};var y=M,k=function(e){Object(d.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(i.a)(this,t),(n=a.call(this,e)).fetchPosts=function(){I("https://quinncareapi.azurewebsites.net/api/assignment/posts").then((function(e){var a=e.data;a.forEach((function(e,t){a[t].timeInSeconds=x()(P(e.CreatedOnTimestamp,10),"YYYY-MM-DD").unix()})),n.setState({posts:a.sort(w)})})).catch((function(e){alert("API call failed!"),console.log(e)}))},n.renderPosts=function(){return n.state.posts.map((function(e,a){return r.a.createElement(y,{key:a,userImage:e.profilePictureUrl,userName:e.UserId,postDate:e.CreatedOnTimestamp,postImages:e.Images,caption:e.description,location:"Everywhere"})})).reverse()},n.state={posts:[]},n}return Object(m.a)(t,[{key:"componentDidMount",value:function(){this.fetchPosts()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.renderPosts())}}]),t}(n.Component),D=t(20),Y={initial:{opacity:0},in:{opacity:1},transition:{duration:3}};var U=function(){return r.a.createElement(l.a,null,r.a.createElement(D.a,null,r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/calendar"},r.a.createElement(D.b.div,{className:"calendar",initial:"initial",animate:"in",transition:"transition",variants:Y},r.a.createElement(p,null),r.a.createElement(D.b.div,{className:"content-area"},r.a.createElement(S,null)),r.a.createElement(E,null))),r.a.createElement(o.a,{path:"/"},r.a.createElement(D.b.div,{className:"home",initial:"initial",animate:"in",transition:"transition",variants:Y},r.a.createElement(p,null),r.a.createElement(D.b.div,{className:"content-area"},r.a.createElement(k,null)),r.a.createElement(E,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[45,1,2]]]);
//# sourceMappingURL=main.87f722fa.chunk.js.map